<!-- Content Header (Page header) -->
<section class="content-header" ng-init="">
  <h1>
        Update Password 
        <!-- <small>New Contact</small> -->
    </h1>
  <ol class="breadcrumb">
    <li><a ui-sref="main.dashboard"><i class="fa fa-dashboard"></i> Dashboard</a>
    </li>
    <li class="active">Update Password </li>
  </ol>
</section>
<!-- Main content -->
<section class="content">
  <toaster-container toaster-options="{'time-out': 3000}"></toaster-container>
  <div class="row">
    <section class="col-lg-12">
      <div class="box box-primary">
        <div class="box-header">
          <h3 class="box-title"><i class="fa fa-tags"></i> Update Password 
                    </h3>
          <div ng-if="showLoader" class="col-lg-7 pull-right" style="margin-top:131px;">
            <div loader-css="ball-pulse"></div>
          </div>
        </div>
        <form role="form" novalidate name="changePasswordForm">
          <div class="add-service-form clearfix">
            <div class="col-sm-8 col-sm-offset-2 col-md-6 col-md-offset-3 col-lg-4 col-lg-offset-4">
              <div class="row">
                <div class="col-sm-12">
                  <div class="form-group">
                    <label for="password" class="cols-sm-2 control-label">Old password</label>
                    <div class="cols-sm-10">
                      <div class="input-group">
                          <span class="input-group-addon"><i class="fa fa-lock"></i></span>
                          <input type="password" name="oldPassword" id="oldPassword" class="form-control" placeholder="Old Password" ng-model="oldPassword" required tabindex="1" autocomplete="off" ng-change="checkPassword(oldPassword,superAdminUserData._id)" maxlength='25'  />
                        </div>
                        <span ng-show="changePasswordForm.oldPassword.$error.required && changePasswordForm.oldPassword.$dirty" class="text-danger">Old Password is required</span>
                        <span ng-show="message && !changePasswordForm.oldPassword.$error.required && !changePasswordForm.oldPassword.$error.minlength" class="text-danger">{{message}}</span>
                      </div>
                    </div>
                  </div>
                <div class="col-sm-12" >
                  <div class="form-group">
                    <label for="password" class="cols-sm-2 control-label">New password</label>
                    <div class="cols-sm-10">
                      <div class="input-group">
                        <span class="input-group-addon"><i class="fa fa-lock"></i></span>
                        <input type="password"  name="newpassword" id="newpassword" class="form-control" placeholder="New Password" ng-model="adminData.newpassword" required tabindex="2" autocomplete="off" ng-keyup="ChangePasswordMatch(adminData);" maxlength='25' ng-minlength='8'  ng-pattern="/(?=.*[a-z])(?=.*[A-Z])(?=.*[^a-zA-Z])/"/>
                      </div>
                      <span ng-show="changePasswordForm.newpassword.$dirty && changePasswordForm.newpassword.$error.required" class="text-danger">New password is required</span>
                      <span ng-show="changePasswordForm.newpassword.$error.minlength && changePasswordForm.newpassword.$dirty && !changePasswordForm.newpassword.$error.pattern" class="text-danger">Please enter atleast 8 characters</span>
                      <span ng-show="changePasswordForm.newpassword.$error.pattern" class="text-danger">Must contain one lower &amp; uppercase letter, and one non-alpha character (a number or a symbol.)</span>
                    </div>
                  </div>
                </div>
                <div class="col-sm-12" >
                  <div class="form-group">
                    <label for="password" class="cols-sm-2 control-label">Confirm new password</label>
                    <div class="cols-sm-10">
                      <div class="input-group">
                        <span class="input-group-addon"><i class="fa fa-lock"></i></span>
                        <input type="password" name="cpassword"  id="cpassword" class="form-control" placeholder="confirm password" ng-model="adminData.cpassword" required tabindex="3" autocomplete="off" ng-keyup="ChangePasswordMatch(adminData);" maxlength='25' ng-minlength='8' ng-pattern="/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.{6,})/" />
                      </div>
                      <span ng-show="changePasswordForm.cpassword.$dirty && changePasswordForm.cpassword.$error.required" class="text-danger">Confirm Password is required</span>
                      <span ng-show="changePasswordForm.cpassword.$error.minlength && changePasswordForm.cpassword.$dirty && !changePasswordForm.cpassword.$error.pattern" class="text-danger">Please enter at least 8 characters</span>
                      <span ng-show="changePasswordForm.cpassword.$error.pattern" class="text-danger">Must contain one lower &amp; uppercase letter, and one non-alpha character (a number or a symbol.)</span>
                      <span ng-if="passwordNotMatch" class="text-danger">Passwords did not match, please try again.</span>
                    </div>
                  </div>
                </div>
                <div class="spacer20"></div> 
                <div class="col-sm-12 text-right">
                  <button type="submit" class="btn btn-primary submit-btn" ng-disabled="changePasswordForm.$invalid  || passwordNotMatch || message" ng-click="changePassword(adminData.cpassword,superAdminUserData._id);$setPristine()">Change <i class="fa fa-spinner fa-spin" ng-if="loaderChangePass"></i></button>
                </div>
              </div>
            </div>
          </div>
        </form>

      </div>
    </section>
  </div>
</section>

