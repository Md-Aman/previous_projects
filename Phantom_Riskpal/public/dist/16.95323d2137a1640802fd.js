(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{HMLg:function(n,l,e){"use strict";e.r(l);var t=e("CcnG"),o=function(){return function(){}}(),a=e("pMnS"),u=e("ZYCi"),i=function(){function n(){}return n.prototype.ngOnInit=function(){},n}(),d=t["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function r(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),t["\u0275did"](1,212992,null,0,u.q,[u.b,t.ViewContainerRef,t.ComponentFactoryResolver,[8,null],t.ChangeDetectorRef],null,null)],function(n,l){n(l,1,0)},null)}function s(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"app-page",[],null,null,null,r,d)),t["\u0275did"](1,114688,null,0,i,[],null,null)],function(n,l){n(l,1,0)},null)}var c=t["\u0275ccf"]("app-page",i,s,{},{},[]),p=e("iAfa"),m=e("RygT"),g=e("gIcY"),h=e("U+Mh"),v=e("p26K"),f=e("H/10"),b=e("o3x0"),C=e("C0Nl"),y=e("6wy+"),_=e("/mfM"),S=e("3uG7"),w=e("UgQI"),R=e("pJ69"),E=e("NRES"),A=function(){function n(n,l,e,t,o,a,u,i,d){var r=this;this._service=n,this.authService=l,this.formBuilder=e,this.toastarService=t,this.router=o,this.responseService=a,this.activeRoute=u,this.dialog=i,this.raService=d,this.rows=[],this.columns=[{name:"question",prop:"Question"},{name:"source",prop:"Source"}],this.pageNo=1,this.page={count:0,offset:0},this.loading=!1,this.searchKeyword="",this.sectors=[],this.colHead=[{name:"Mitigation Advice",value:"ValueWithHtml"}],this.colHeadSub1=[{name:"When last updated",value:"lastUpdated"}],this.isCollapse=!0,this.subscription=this.raService.trackChanges.subscribe(function(n){null!=n&&("updateQuestionList"===n.type?(r.setBreadCrum(),r.getAllSector(r.searchKeyword,r.pageNo)):"reloadPage"===n.type&&r.setBreadCrum())})}return n.prototype.ngOnInit=function(){var n=this,l=this.activeRoute.snapshot.paramMap.get("popup"),e=this.activeRoute.snapshot.paramMap.get("id");console.log("popup",l),l?setTimeout(function(){return n.dialog.open(R.a,{data:{id:e||"",comingFromOtherPage:!1},height:"100vw",width:"70%",disableClose:!0,closeOnNavigation:!0,position:{top:"0",right:"0",bottom:"0"}})}):(this.setBreadCrum(),this.getAllSector()),!0===this.authService.getPermission().super_admin&&this.columns.push({prop:"sector",name:"sector"}),this.searchQuestionForm=this.formBuilder.group({searchKey:[null,[]]})},n.prototype.setBreadCrum=function(){this.responseService.createBreadCrum([{name:"Question",url:"/secure/manage-riskpal/question"}])},n.prototype.onSearch=function(n){this.searchKeyword=n,this.getAllSector(n)},n.prototype.getAllSector=function(n,l){var e=this;void 0===n&&(n=""),void 0===l&&(l=1);var t={count:y.a.limit,page:l,questionnaire_name:n,sortby:y.a.sortCreatedAtDesc};this.loading=!0,this._service.getAllQuestions(t).subscribe(function(n){e.page.count=n.count,e.rows=n.data.map(function(n){return null!=n.created_by&&null!=n.created_by?(console.log("item.created_by :",n.created_by),n.source=n.created_by.firstname+" "+n.created_by.lastname):n.source="N/A",n.category_id.forEach(function(n){n.sector_name.forEach(function(n){e.sectors.push(" "+n.sectorName)})}),n.lastUpdated=n.updatedAt.split("T",10)[0],n.ValueWithHtml=n.best_practice_advice,n.sector=e.sectors,e.sectors=[],n}),console.log("rowwwwwww",e.rows),e.loading=!1},function(n){e.loading=!1})},n.prototype.receiveEvent=function(n){switch(console.log("value====",n),n.type){case"delete":this.delete(n);break;case"edit":this.edit(n);break;case"setPage":this.setPage(n)}},n.prototype.edit=function(n){this.dialog.open(R.a,{height:"100vw",width:"70%",data:{id:n.data._id?n.data._id:"",comingFromOtherPage:!0},disableClose:!1,closeOnNavigation:!0,position:{top:"0",right:"0",bottom:"0"}})},n.prototype.delete=function(n){var l=this;console.log("log delete fnc"),this.loading=!0,this._service.delete(n.data._id).subscribe(function(e){200===e.code&&(l.rows=l.rows.filter(function(l){return l._id!==n.data._id})),l.loading=!1},function(n){console.log("errr",n),l.loading=!1})},n.prototype.setPage=function(n){console.log("page",n),this.pageNo=n.data.offset+1,this.getAllSector(this.searchKeyword,this.pageNo)},n.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},n}(),N=t["\u0275crt"]({encapsulation:0,styles:[[".filterBy[_ngcontent-%COMP%]{grid-template-columns:50px 20% 1fr}"]],data:{}});function L(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,2,"ngx-loading",[],null,null,null,p.b,p.a)),t["\u0275did"](1,114688,null,0,m.a,[m.c,t.ChangeDetectorRef],{show:[0,"show"],config:[1,"config"]},null),t["\u0275pod"](2,{primaryColour:0,secondaryColour:1,tertiaryColour:2}),(n()(),t["\u0275eld"](3,0,null,null,2,"div",[["class","subSet wrapper"]],null,null,null,null,null)),(n()(),t["\u0275eld"](4,0,null,null,1,"h2",[],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["Manage Question"])),(n()(),t["\u0275eld"](6,0,null,null,27,"div",[["class","subSet _table"]],null,null,null,null,null)),(n()(),t["\u0275eld"](7,0,null,null,8,"div",[["class","subSet createNew"]],null,[[null,"click"]],function(n,l,e){var o=!0;return"click"===l&&(o=!1!==t["\u0275nov"](n,8).onClick()&&o),o},null,null)),t["\u0275did"](8,16384,null,0,u.n,[u.m,u.a,[8,null],t.Renderer2,t.ElementRef],{routerLink:[0,"routerLink"]},null),t["\u0275pad"](9,1),(n()(),t["\u0275eld"](10,0,null,null,0,"img",[["alt",""],["class","left"],["src","../../../../assets/images/icon-create-new.svg"]],null,null,null,null,null)),(n()(),t["\u0275eld"](11,0,null,null,4,"div",[["class","left desc"]],null,null,null,null,null)),(n()(),t["\u0275eld"](12,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["CREATE NEW"])),(n()(),t["\u0275eld"](14,0,null,null,1,"span",[["class","_b"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["Question"])),(n()(),t["\u0275eld"](16,0,null,null,14,"div",[["class","filterBy _upd"]],null,null,null,null,null)),(n()(),t["\u0275eld"](17,0,null,null,13,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(n,l,e){var o=!0,a=n.component;return"submit"===l&&(o=!1!==t["\u0275nov"](n,19).onSubmit(e)&&o),"reset"===l&&(o=!1!==t["\u0275nov"](n,19).onReset()&&o),"submit"===l&&(o=!1!==t["\u0275nov"](n,22).onSubmit()&&o),"submit"===l&&(o=!1!==a.onSearch(a.searchQuestionForm.value.searchKey)&&o),o},null,null)),t["\u0275did"](18,16384,null,0,g.D,[],null,null),t["\u0275did"](19,540672,null,0,g.k,[[8,null],[8,null]],{form:[0,"form"]},null),t["\u0275prd"](2048,null,g.c,null,[g.k]),t["\u0275did"](21,16384,null,0,g.s,[[4,g.c]],null,null),t["\u0275did"](22,16384,null,0,h.d,[],{formGroup:[0,"formGroup"]},null),(n()(),t["\u0275eld"](23,0,null,null,7,"div",[["class","relative"]],null,null,null,null,null)),(n()(),t["\u0275eld"](24,0,[["_search",1]],null,5,"input",[["class","_search"],["formControlName","searchKey"],["placeholder","Search Question..."],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,l,e){var o=!0;return"input"===l&&(o=!1!==t["\u0275nov"](n,25)._handleInput(e.target.value)&&o),"blur"===l&&(o=!1!==t["\u0275nov"](n,25).onTouched()&&o),"compositionstart"===l&&(o=!1!==t["\u0275nov"](n,25)._compositionStart()&&o),"compositionend"===l&&(o=!1!==t["\u0275nov"](n,25)._compositionEnd(e.target.value)&&o),o},null,null)),t["\u0275did"](25,16384,null,0,g.d,[t.Renderer2,t.ElementRef,[2,g.a]],null,null),t["\u0275prd"](1024,null,g.p,function(n){return[n]},[g.d]),t["\u0275did"](27,671744,null,0,g.i,[[3,g.c],[8,null],[8,null],[6,g.p],[2,g.F]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,g.q,null,[g.i]),t["\u0275did"](29,16384,null,0,g.r,[[4,g.q]],null,null),(n()(),t["\u0275eld"](30,0,null,null,0,"span",[["class","_search-icon"]],null,[[null,"click"]],function(n,l,e){var o=!0;return"click"===l&&(o=!1!==n.component.onSearch(t["\u0275nov"](n,24).value)&&o),o},null,null)),(n()(),t["\u0275eld"](31,0,null,null,2,"div",[["class","_tableData"]],null,null,null,null,null)),(n()(),t["\u0275eld"](32,0,null,null,1,"app-simple-table",[],null,[[null,"emitEventChange"]],function(n,l,e){var t=!0;return"emitEventChange"===l&&(t=!1!==n.component.receiveEvent(e)&&t),t},v.b,v.a)),t["\u0275did"](33,114688,null,0,f.a,[b.e],{rows:[0,"rows"],columns:[1,"columns"],page:[2,"page"],isCollapse:[3,"isCollapse"],colHead:[4,"colHead"],colHeadSub1:[5,"colHeadSub1"]},{emitEventChange:"emitEventChange"})],function(n,l){var e=l.component,t=e.loading,o=n(l,2,0,"red","blue","red");n(l,1,0,t,o);var a=n(l,9,0,"/secure/manage-riskpal/question/create/true");n(l,8,0,a),n(l,19,0,e.searchQuestionForm),n(l,22,0,e.searchQuestionForm),n(l,27,0,"searchKey"),n(l,33,0,e.rows,e.columns,e.page,e.isCollapse,e.colHead,e.colHeadSub1)},function(n,l){n(l,17,0,t["\u0275nov"](l,21).ngClassUntouched,t["\u0275nov"](l,21).ngClassTouched,t["\u0275nov"](l,21).ngClassPristine,t["\u0275nov"](l,21).ngClassDirty,t["\u0275nov"](l,21).ngClassValid,t["\u0275nov"](l,21).ngClassInvalid,t["\u0275nov"](l,21).ngClassPending),n(l,24,0,t["\u0275nov"](l,29).ngClassUntouched,t["\u0275nov"](l,29).ngClassTouched,t["\u0275nov"](l,29).ngClassPristine,t["\u0275nov"](l,29).ngClassDirty,t["\u0275nov"](l,29).ngClassValid,t["\u0275nov"](l,29).ngClassInvalid,t["\u0275nov"](l,29).ngClassPending)})}function P(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"app-list",[],null,null,null,L,N)),t["\u0275did"](1,245760,null,0,A,[C.a,_.a,g.g,S.a,u.m,w.a,u.a,b.e,E.a],null,null)],function(n,l){n(l,1,0)},null)}var k=t["\u0275ccf"]("app-list",A,P,{},{},[]),D=e("iutN"),M=e("z5nN"),F=e("Xg1U"),O=e("t68o"),T=e("atuK"),H=e("7Z8E"),I=e("oqxn"),B=e("lGfS"),Q=e("gB9y"),U=e("syLn"),q=e("uAyu"),x=e("Ip0R"),j=e("sE5F"),K=e("OzfB"),W=e("FO+L"),Z=e("ZYjt"),z=e("nhM1"),V=e("BARL"),G=e("8e6m"),Y=e("eDkP"),J=e("Fzqc"),X=e("duUw"),$=e("Se1k"),nn=e("k/Rj"),ln=e("NJnL"),en=e("lqqz"),tn=e("xtZt"),on=e("DQlY"),an=e("YAQW"),un=e("9bPP"),dn=e("eajB"),rn=e("ARl4"),sn=function(){return function(){}}(),cn=e("21Lb"),pn=e("hUWP"),mn=e("V9q+"),gn=e("Hf/j"),hn=e("F8xH"),vn=e("yD1i"),fn=e("AS82"),bn=e("4c35"),Cn=e("dWZg"),yn=e("qAlS"),_n=e("Wf4p"),Sn=e("QpxQ"),wn=e("/qvy"),Rn=e("b3E/"),En=e("w6+6"),An=e("IZET"),Nn=e("1jDe"),Ln=e("T8sE"),Pn=e("skic"),kn=e("KeWI"),Dn=e("UsZU"),Mn=e("50k4"),Fn=e("o56U"),On=e("U3vz"),Tn=e("r6ye"),Hn=e("KktT"),In=e("eby4"),Bn=e("+o/m"),Qn=e("3WSi");e.d(l,"QuestionModuleNgFactory",function(){return Un});var Un=t["\u0275cmf"](o,[],function(n){return t["\u0275mod"]([t["\u0275mpd"](512,t.ComponentFactoryResolver,t["\u0275CodegenComponentFactoryResolver"],[[8,[a.a,c,k,D.a,M.a,M.b,F.a,O.a,T.a,T.b,H.a,I.a,B.a,Q.a,U.a,q.a]],[3,t.ComponentFactoryResolver],t.NgModuleRef]),t["\u0275mpd"](4608,g.E,g.E,[]),t["\u0275mpd"](4608,g.g,g.g,[]),t["\u0275mpd"](4608,x.NgLocalization,x.NgLocaleLocalization,[t.LOCALE_ID,[2,x["\u0275angular_packages_common_common_a"]]]),t["\u0275mpd"](4608,j.c,j.c,[]),t["\u0275mpd"](4608,j.h,j.b,[]),t["\u0275mpd"](5120,j.j,j.k,[]),t["\u0275mpd"](4608,j.i,j.i,[j.c,j.h,j.j]),t["\u0275mpd"](4608,j.g,j.a,[]),t["\u0275mpd"](5120,j.e,j.l,[j.i,j.g]),t["\u0275mpd"](5120,K.c,K.d,[[3,K.c],[2,K.b],[2,K.j],[2,K.a]]),t["\u0275mpd"](5120,K.g,K.u,[[3,K.g],K.c]),t["\u0275mpd"](5120,K.l,K.v,[[3,K.l],t.NgZone,t.PLATFORM_ID,x.DOCUMENT]),t["\u0275mpd"](4608,K.m,K.m,[K.g,K.l]),t["\u0275mpd"](5120,K.o,K.n,[[3,K.o],K.l,K.g]),t["\u0275mpd"](5120,K.s,K.q,[[3,K.s]]),t["\u0275mpd"](4608,K.r,K.r,[[2,K.s],[2,K.p],t.PLATFORM_ID,[2,K.k]]),t["\u0275mpd"](5120,t.APP_BOOTSTRAP_LISTENER,function(n,l){return[K.t(n,l)]},[x.DOCUMENT,t.PLATFORM_ID]),t["\u0275mpd"](4608,W.ScrollbarHelper,W.ScrollbarHelper,[Z.DOCUMENT]),t["\u0275mpd"](4608,z.DimensionsHelper,z.DimensionsHelper,[]),t["\u0275mpd"](4608,V.ColumnChangesService,V.ColumnChangesService,[]),t["\u0275mpd"](4608,G.a,G.a,[]),t["\u0275mpd"](4608,x.LocationStrategy,x.PathLocationStrategy,[x.PlatformLocation,[2,x.APP_BASE_HREF]]),t["\u0275mpd"](4608,x.Location,x.Location,[x.LocationStrategy]),t["\u0275mpd"](4608,Y.a,Y.a,[Y.g,Y.c,t.ComponentFactoryResolver,Y.f,Y.d,t.Injector,t.NgZone,x.DOCUMENT,J.b,[2,x.Location]]),t["\u0275mpd"](5120,Y.h,Y.i,[Y.a]),t["\u0275mpd"](5120,b.c,b.d,[Y.a]),t["\u0275mpd"](135680,b.e,b.e,[Y.a,t.Injector,[2,x.Location],[2,b.b],b.c,[3,b.e],Y.c]),t["\u0275mpd"](4608,X.b,X.b,[]),t["\u0275mpd"](4608,X.e,X.e,[]),t["\u0275mpd"](4608,$.a,$.a,[t.ApplicationRef,t.ComponentFactoryResolver,t.Injector]),t["\u0275mpd"](4608,nn.a,nn.a,[$.a]),t["\u0275mpd"](4608,ln.a,ln.a,[]),t["\u0275mpd"](4608,en.a,en.a,[t.ComponentFactoryResolver,t.NgZone,t.Injector,ln.a,t.ApplicationRef]),t["\u0275mpd"](4608,tn.d,tn.d,[]),t["\u0275mpd"](4608,on.a,on.a,[t.RendererFactory2,en.a]),t["\u0275mpd"](4608,an.b,an.b,[]),t["\u0275mpd"](4608,un.b,un.b,[]),t["\u0275mpd"](4608,dn.a,dn.a,[]),t["\u0275mpd"](4608,h.g,h.g,[h.b]),t["\u0275mpd"](4608,rn.v,rn.v,[]),t["\u0275mpd"](4608,rn.x,rn.x,[]),t["\u0275mpd"](4608,rn.a,rn.a,[]),t["\u0275mpd"](4608,rn.d,rn.d,[]),t["\u0275mpd"](4608,rn.e,rn.e,[]),t["\u0275mpd"](4608,rn.w,rn.w,[rn.x,rn.e]),t["\u0275mpd"](1073742336,g.B,g.B,[]),t["\u0275mpd"](1073742336,g.m,g.m,[]),t["\u0275mpd"](1073742336,g.x,g.x,[]),t["\u0275mpd"](1073742336,x.CommonModule,x.CommonModule,[]),t["\u0275mpd"](1073742336,u.p,u.p,[[2,u.v],[2,u.m]]),t["\u0275mpd"](1073742336,sn,sn,[]),t["\u0275mpd"](1073742336,j.f,j.f,[]),t["\u0275mpd"](1073742336,K.i,K.i,[]),t["\u0275mpd"](1073742336,J.a,J.a,[]),t["\u0275mpd"](1073742336,cn.a,cn.a,[]),t["\u0275mpd"](1073742336,pn.a,pn.a,[]),t["\u0275mpd"](1073742336,mn.a,mn.a,[[2,K.p],t.PLATFORM_ID]),t["\u0275mpd"](1073742336,m.b,m.b,[]),t["\u0275mpd"](1073742336,tn.c,tn.c,[]),t["\u0275mpd"](1073742336,on.d,on.d,[]),t["\u0275mpd"](1073742336,gn.a,gn.a,[]),t["\u0275mpd"](1073742336,hn.NgxDatatableModule,hn.NgxDatatableModule,[]),t["\u0275mpd"](1073742336,an.a,an.a,[]),t["\u0275mpd"](1073742336,vn.b,vn.b,[]),t["\u0275mpd"](1073742336,un.c,un.c,[]),t["\u0275mpd"](1073742336,dn.d,dn.d,[]),t["\u0275mpd"](1073742336,G.b,G.b,[]),t["\u0275mpd"](1073742336,fn.b,fn.b,[]),t["\u0275mpd"](1073742336,bn.f,bn.f,[]),t["\u0275mpd"](1073742336,Cn.b,Cn.b,[]),t["\u0275mpd"](1073742336,yn.b,yn.b,[]),t["\u0275mpd"](1073742336,Y.e,Y.e,[]),t["\u0275mpd"](1073742336,_n.b,_n.b,[[2,_n.a],[2,Z.HAMMER_LOADER]]),t["\u0275mpd"](1073742336,b.h,b.h,[]),t["\u0275mpd"](1073742336,Sn.c,Sn.c,[]),t["\u0275mpd"](1073742336,h.f,h.f,[]),t["\u0275mpd"](1073742336,rn.c,rn.c,[]),t["\u0275mpd"](1073742336,X.d,X.d,[]),t["\u0275mpd"](1073742336,wn.a,wn.a,[]),t["\u0275mpd"](1073742336,Rn.a,Rn.a,[]),t["\u0275mpd"](1073742336,En.a,En.a,[]),t["\u0275mpd"](1073742336,An.a,An.a,[]),t["\u0275mpd"](1073742336,Nn.a,Nn.a,[]),t["\u0275mpd"](1073742336,Ln.a,Ln.a,[]),t["\u0275mpd"](1073742336,Pn.a,Pn.a,[]),t["\u0275mpd"](1073742336,kn.a,kn.a,[]),t["\u0275mpd"](1073742336,Dn.a,Dn.a,[]),t["\u0275mpd"](1073742336,Mn.a,Mn.a,[]),t["\u0275mpd"](1073742336,Fn.a,Fn.a,[]),t["\u0275mpd"](1073742336,On.a,On.a,[]),t["\u0275mpd"](1073742336,Tn.a,Tn.a,[]),t["\u0275mpd"](1073742336,Hn.a,Hn.a,[]),t["\u0275mpd"](1073742336,In.a,In.a,[]),t["\u0275mpd"](1073742336,Bn.b,Bn.b,[]),t["\u0275mpd"](1073742336,Qn.a,Qn.a,[]),t["\u0275mpd"](1073742336,o,o,[]),t["\u0275mpd"](1024,u.i,function(){return[[{path:"",component:i,children:[{path:"list",component:A},{path:"create/:popup",component:A},{path:"update/:id/:popup",component:A},{path:"",redirectTo:"list"}]}]]},[]),t["\u0275mpd"](256,Sn.d,Sn.e,[]),t["\u0275mpd"](256,"loadingConfig",{},[]),t["\u0275mpd"](256,tn.a,{autoClose:!0,insideClick:!1},[]),t["\u0275mpd"](1024,h.b,function(){return[[],Qn.b]},[]),t["\u0275mpd"](256,h.a,1,[])])})}}]);